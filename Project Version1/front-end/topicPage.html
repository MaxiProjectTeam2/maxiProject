<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Topic Choose</title>
  <link rel="stylesheet" href="./CSS/bootstrap.min.css">
  <link rel="stylesheet" href="./CSS/stylesheet.css">
  <script src="./JavaScript/jquery.min.js"></script>
  <script src="./JavaScript/bootstrap.min.js"></script>
</head>

<body>
  <div id="banner">
    <h2>Choose your topic please</h2>
  </div> <!-- banner -->

  <div id="navigation">
  	<a href="patientLogin.html"><button class="ybutton"<>Exit</button></a>
  </div>

  <div id="main">
  	
  </div>

  <div id="footer">

	  <?php

		require_once("database.php");

  		$findTopics = "SELECT COUNT(DISTINCT topic) ";
  		$findTopics .= "as total FROM content;";

  		// "resource" object - collection of rows
  		$topicQuery = $db->query($findTopics);
	  	$noOfTopics = $db->fetch_assoc($topicQuery);
	  	echo $noOfTopics['total']; // exchange for num_rows?

	  	// randomly pick 3 topics
	  	$topicIndices = range(1,$noOfTopics['total']);
	  	shuffle($topicIndices);

	  	$getTopic1 = "SELECT DISTINCT topic as topic1 FROM content LIMIT ";
	  	$getTopic1 .= strval($topicIndices[0]-1) . ", " . strval($topicIndices[0] . ";");
	  	$getTopic2 = "SELECT DISTINCT topic as topic2 FROM content LIMIT ";
	  	$getTopic2 .= strval($topicIndices[1]-1) . ", " . strval($topicIndices[1] . ";");
	  	$getTopic3 = "SELECT DISTINCT topic as topic3 FROM content LIMIT ";
	  	$getTopic3 .= strval($topicIndices[2]-1) . ", " . strval($topicIndices[2] . ";");

	  	$topic1 = $db->query($getTopic1);
	  	$topicA = $db->fetch_assoc($topic1);

	  	$topic2 = $db->query($getTopic2);
	  	$topicB = $db->fetch_assoc($topic2);

	  	$topic3 = $db->query($getTopic3);
	  	$topicC = $db->fetch_assoc($topic3);

	  	echo "<br/> 3 topics are: " . $topicA['topic1'] . ", " . $topicB['topic2'] . ", " . $topicC['topic3'];

	  ?>

  	<div class = "row">
  		<div class="col-md-4">
  			 <div class="dropup">
   				<button class="btn btn-primary dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">Childhood<span class="caret"></span></button>
    			<ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
      			<li role="presentation"><a role="menuitem" tabindex="-1" href="topicPage-Video.html">Video</a></li>
      			<li role="presentation"><a role="menuitem" tabindex="-1" href="topicPage-Picture.html">Photograph</a></li>
      			<li role="presentation"><a role="menuitem" tabindex="-1" href="topicPage-Music.html">Music</a></li>
    			</ul>
			</div>
  		</div>
  		<div class="col-md-4">
  			 <div class="dropup">
   				<button class="btn btn-primary dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">Childhood<span class="caret"></span></button>
    			<ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
      			<li role="presentation"><a role="menuitem" tabindex="-1" href="topicPage-Video.html">Video</a></li>
      			<li role="presentation"><a role="menuitem" tabindex="-1" href="topicPage-Picture.html">Photograph</a></li>
      			<li role="presentation"><a role="menuitem" tabindex="-1" href="topicPage-Music.html">Music</a></li>
    			</ul>
			</div>
  		</div>
  		<div class="col-md-4">
  			 <div class="dropup">
   				<button class="btn btn-primary dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">Childhood<span class="caret"></span></button>
    			<ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
      			<li role="presentation"><a role="menuitem" tabindex="-1" href="topicPage-Video.html">Video</a></li>
      			<li role="presentation"><a role="menuitem" tabindex="-1" href="topicPage-Picture.html">Photograph</a></li>
      			<li role="presentation"><a role="menuitem" tabindex="-1" href="topicPage-Music.html">Music</a></li>
    			</ul>
			</div>
  		</div>
  	</div>



  </div>

</body>
</html>